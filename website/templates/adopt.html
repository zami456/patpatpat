{% extends "base.html" %}

{% block title %}Adopt Pet{% endblock %}

{% block content %}
<style>
    .fixed-size-img {
        width: 100%; 
        height: 400px;
        object-fit: cover; 
    }
    .social-links a {
        margin-right: 10px;
        color: #333;
    }
    .social-links a:hover {
        color: #007bff;
    }
    .basic-details {
        font-size: 1.2rem;
        font-weight: bold;
    }
    .basic-details i {
        margin-left: 5px;
    }
</style>

<div class="container mt-5">
    <div class="row">
        <!-- Main Content -->
        <div class="col-md-9">
            <!-- Image Carousel -->
            <div id="petCarousel" class="carousel slide mb-4" data-ride="carousel">
                <div class="carousel-inner">
                    {% for image in pet_images %}
                    <div class="carousel-item {% if loop.first %}active{% endif %}">
                        <img src="{{ image }}" class="d-block w-100 fixed-size-img" alt="Pet Image">
                    </div>
                    {% endfor %}
                </div>
                <a class="carousel-control-prev" href="#petCarousel" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#petCarousel" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>

            <!-- Pet Details Container -->
            <div class="card">
                <div class="card-header">
                    <h2>Adopt {{ pet[1] }}</h2>
                </div>
                <div class="card-body">
                    <h5 class="card-title">{{ pet[1] }}</h5>
                    <p class="card-text basic-details">
                        {{ pet[7] }}  <!-- Gender -->
                        {% if pet[8] %}  <!-- Neutered -->
                            Neutered<i class="fas fa-check text-success"></i>
                        {% else %}
                            Neutered<i class="fas fa-times text-danger"></i>
                        {% endif %}
                        {% if pet[9] %}  <!-- Vaccinated -->
                            Vaccinated<i class="fas fa-check text-success"></i>
                        {% else %}
                            Vaccinated<i class="fas fa-times text-danger"></i>
                        {% endif %}
                    </p>
                    <p class="card-text"><strong>Breed:</strong> {{ pet[5] }}</p>
                    <p class="card-text"><strong>Age:</strong> {{ pet[6] }}</p>
                    <p class="card-text"><strong>Location:</strong> {{ pet[3] }}, {{ pet[2] }}</p>
                    <p class="card-text"><strong>Description:</strong> {{ pet[10] }}</p>
                    <form action="/confirm_adoption" method="post">
                        <input type="hidden" name="pet_id" value="{{ pet[0] }}">
                        <div class="form-group">
                            <label for="message">Message to Owner</label>
                            <textarea class="form-control" id="message" name="message" rows="3" placeholder="Write a message to the owner..."></textarea>
                        </div>
                        <button type="submit" class="btn btn-success btn-block">Confirm Adoption</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Sidebar for Owner Details -->
        <div class="col-md-3">
            <div class="card">
                <div class="card-header">
                    <h4>Owner Details</h4>
                </div>
                <div class="card-body">
                    <p><strong>Name:</strong> {{ owner[2] }}</p>
                    <p><strong>Contact:</strong> {{ owner[4] }}</p>
                    <div class="social-links">
                        <a href="{{ owner.facebook }}" target="_blank"><i class="fab fa-facebook"></i></a>
                        <a href="https://wa.me/{{ owner.whatsapp }}" target="_blank"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}